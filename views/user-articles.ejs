<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <%- include('./partials/APIs&CDNs/bootstrap-css.ejs') -%>

    <link rel="stylesheet" href="/stylesheets/main.css">
    <link rel="stylesheet" href="/stylesheets/navbar.css">
    <link rel="stylesheet" href="/stylesheets/sidebar.css">

    <link rel="stylesheet" href="/stylesheets/article.css">
    <link rel="stylesheet" href="/stylesheets/comment.css">
    <link rel="stylesheet" href="/stylesheets/loading1.css">

    <title>Articles</title>

</head>

<body>

    <%- include('./partials/bars/navbar.ejs') -%>

    <%# guest sidebar %>
    <% if (role === "guest") { %>
        <%- include('./partials/bars/sidebar-guest.ejs') -%>
    <%} %>

    <%# blogger sidebar %>
    <% if (role === "blogger") { %>
        <%- include('./partials/bars/sidebar-blogger.ejs') -%>
    <%} %>

    <%# admin sidebar %>
    <% if (role === "admin") { %>
        <%- include('./partials/bars/sidebar-admin.ejs') -%>
    <%} %>
    


    <!-- if user has no articles -->
    <% if (status === "no-Article") { %>

        <section class="article-box" style="text-align: center;">
            <h1 style="margin-bottom: 0;"><b><%= message %></b></h1>
        </section>

    <%} %>

        
    <!-- load articles if any -->
    <% if (status === "has-Article") { %>
        
        <% for (let i = 0; i < articles_info.length; i++) { %>
            <%- include('./partials/article-box-details.ejs', {i}) -%>
        <%} %>

    <%} %>


    <!-- show a specific article -->
    <% if (status === "show-Article") { %>
        <%- include('./partials/article-box-text.ejs') -%>
    <%} %>



    <!-- Needed to avoid ancountering errors in HTML pages that don't have TinyMCE API -->
    <!-- Because TinyMCE config is in 'articles.js' file -->
    <%- include('./partials/APIs&CDNs/tiny-cloud.ejs') -%>

    <%- include('./partials/APIs&CDNs/fontawsome-js.ejs') -%>
    <%- include('./partials/APIs&CDNs/bootstrap-js.ejs') -%>
    

    <script src="/javascripts/jQuery-Uncompressed.v3.4.1.js"></script>
    <script src="/javascripts/articles.js" type="module"></script>
    <script src="/javascripts/comments.js" type="module"></script>

</body>

</html>